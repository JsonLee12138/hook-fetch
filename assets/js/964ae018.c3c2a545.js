"use strict";(self.webpackChunkhook_fetch_docs=self.webpackChunkhook_fetch_docs||[]).push([[7443],{3588:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"api-reference","title":"API \u53c2\u8003","description":"\u672c\u6587\u6863\u63d0\u4f9b\u4e86 Hook-Fetch \u7684\u5b8c\u6574 API \u53c2\u8003\uff0c\u5305\u62ec\u6240\u6709\u65b9\u6cd5\u3001\u914d\u7f6e\u9009\u9879\u548c\u7c7b\u578b\u5b9a\u4e49\u3002","source":"@site/docs/api-reference.md","sourceDirName":".","slug":"/api-reference","permalink":"/hook-fetch/docs/api-reference","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Json_Lee","lastUpdatedAt":1751963620000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"\u5feb\u901f\u5f00\u59cb","permalink":"/hook-fetch/docs/getting-started"},"next":{"title":"\u63d2\u4ef6\u7cfb\u7edf","permalink":"/hook-fetch/docs/plugins"}}');var l=s(4848),o=s(8453);const i={sidebar_position:3},c="API \u53c2\u8003",d={},t=[{value:"\u4e3b\u8981\u5bfc\u51fa",id:"\u4e3b\u8981\u5bfc\u51fa",level:2},{value:"\u9ed8\u8ba4\u5bfc\u51fa",id:"\u9ed8\u8ba4\u5bfc\u51fa",level:2},{value:"<code>hookFetch(url, options?)</code>",id:"hookfetchurl-options",level:3},{value:"<code>hookFetch.create(options)</code>",id:"hookfetchcreateoptions",level:3},{value:"\u4fbf\u6377\u65b9\u6cd5",id:"\u4fbf\u6377\u65b9\u6cd5",level:2},{value:"<code>get(url, params?, options?)</code>",id:"geturl-params-options",level:3},{value:"<code>post(url, data?, options?)</code>",id:"posturl-data-options",level:3},{value:"<code>put(url, data?, options?)</code>",id:"puturl-data-options",level:3},{value:"<code>patch(url, data?, options?)</code>",id:"patchurl-data-options",level:3},{value:"<code>del(url, options?)</code>",id:"delurl-options",level:3},{value:"<code>head(url, params?, options?)</code>",id:"headurl-params-options",level:3},{value:"<code>options(url, params?, options?)</code>",id:"optionsurl-params-options",level:3},{value:"<code>upload(url, data?, options?)</code>",id:"uploadurl-data-options",level:3},{value:"HookFetch \u5b9e\u4f8b\u65b9\u6cd5",id:"hookfetch-\u5b9e\u4f8b\u65b9\u6cd5",level:2},{value:"<code>request(url, options?)</code>",id:"requesturl-options",level:3},{value:"<code>get(url, params?, options?)</code>",id:"geturl-params-options-1",level:3},{value:"<code>post(url, data?, options?)</code>",id:"posturl-data-options-1",level:3},{value:"<code>put(url, data?, options?)</code>",id:"puturl-data-options-1",level:3},{value:"<code>patch(url, data?, options?)</code>",id:"patchurl-data-options-1",level:3},{value:"<code>delete(url, options?)</code>",id:"deleteurl-options",level:3},{value:"<code>head(url, params?, options?)</code>",id:"headurl-params-options-1",level:3},{value:"<code>options(url, params?, options?)</code>",id:"optionsurl-params-options-1",level:3},{value:"<code>upload(url, data?, options?)</code>",id:"uploadurl-data-options-1",level:3},{value:"<code>use(plugin)</code>",id:"useplugin",level:3},{value:"<code>abortAll()</code>",id:"abortall",level:3},{value:"HookFetchRequest \u65b9\u6cd5",id:"hookfetchrequest-\u65b9\u6cd5",level:2},{value:"\u54cd\u5e94\u5904\u7406\u65b9\u6cd5",id:"\u54cd\u5e94\u5904\u7406\u65b9\u6cd5",level:3},{value:"<code>json()</code>",id:"json",level:4},{value:"<code>text()</code>",id:"text",level:4},{value:"<code>blob()</code>",id:"blob",level:4},{value:"<code>arrayBuffer()</code>",id:"arraybuffer",level:4},{value:"<code>formData()</code>",id:"formdata",level:4},{value:"<code>bytes()</code>",id:"bytes",level:4},{value:"\u6d41\u5f0f\u5904\u7406\u65b9\u6cd5",id:"\u6d41\u5f0f\u5904\u7406\u65b9\u6cd5",level:3},{value:"<code>stream()</code>",id:"stream",level:4},{value:"\u63a7\u5236\u65b9\u6cd5",id:"\u63a7\u5236\u65b9\u6cd5",level:3},{value:"<code>abort()</code>",id:"abort",level:4},{value:"<code>retry()</code>",id:"retry",level:4},{value:"<code>catch(callback)</code>",id:"catchcallback",level:4},{value:"<code>finally(callback)</code>",id:"finallycallback",level:4},{value:"\u914d\u7f6e\u9009\u9879",id:"\u914d\u7f6e\u9009\u9879",level:2},{value:"BaseOptions",id:"baseoptions",level:3},{value:"RequestOptions",id:"requestoptions",level:3},{value:"\u7c7b\u578b\u5b9a\u4e49",id:"\u7c7b\u578b\u5b9a\u4e49",level:2},{value:"RequestMethod",id:"requestmethod",level:3},{value:"FetchResponseType",id:"fetchresponsetype",level:3},{value:"StreamContext",id:"streamcontext",level:3},{value:"HookFetchPlugin",id:"hookfetchplugin",level:3},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:2},{value:"ResponseError",id:"responseerror",level:3},{value:"\u9519\u8bef\u7c7b\u578b",id:"\u9519\u8bef\u7c7b\u578b",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u5b8c\u6574\u7684 API \u4f7f\u7528\u793a\u4f8b",id:"\u5b8c\u6574\u7684-api-\u4f7f\u7528\u793a\u4f8b",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"api-\u53c2\u8003",children:"API \u53c2\u8003"})}),"\n",(0,l.jsx)(n.p,{children:"\u672c\u6587\u6863\u63d0\u4f9b\u4e86 Hook-Fetch \u7684\u5b8c\u6574 API \u53c2\u8003\uff0c\u5305\u62ec\u6240\u6709\u65b9\u6cd5\u3001\u914d\u7f6e\u9009\u9879\u548c\u7c7b\u578b\u5b9a\u4e49\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u4e3b\u8981\u5bfc\u51fa",children:"\u4e3b\u8981\u5bfc\u51fa"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"import hookFetch, {\n  get, post, put, patch, del, head, options, upload, request\n} from 'hook-fetch';\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u9ed8\u8ba4\u5bfc\u51fa",children:"\u9ed8\u8ba4\u5bfc\u51fa"}),"\n",(0,l.jsx)(n.h3,{id:"hookfetchurl-options",children:(0,l.jsx)(n.code,{children:"hookFetch(url, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u4e3b\u8981\u7684\u8bf7\u6c42\u51fd\u6570\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (RequestOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"HookFetchRequest<T>"})," - \u8bf7\u6c42\u5bf9\u8c61"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"const response = await hookFetch('https://api.example.com/users').json();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"hookfetchcreateoptions",children:(0,l.jsx)(n.code,{children:"hookFetch.create(options)"})}),"\n",(0,l.jsx)(n.p,{children:"\u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u597d\u7684 Hook-Fetch \u5b9e\u4f8b\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (BaseOptions): \u5b9e\u4f8b\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"HookFetch"})," - \u5b9e\u4f8b\u5bf9\u8c61"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"const api = hookFetch.create({\n  baseURL: 'https://api.example.com',\n  timeout: 5000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u4fbf\u6377\u65b9\u6cd5",children:"\u4fbf\u6377\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.h3,{id:"geturl-params-options",children:(0,l.jsx)(n.code,{children:"get(url, params?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u53d1\u8d77 GET \u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"params"})," (object, \u53ef\u9009): \u67e5\u8be2\u53c2\u6570"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (GetOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"const users = await get('/users', { page: 1, limit: 10 }).json();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"posturl-data-options",children:(0,l.jsx)(n.code,{children:"post(url, data?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u53d1\u8d77 POST \u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"data"})," (any, \u53ef\u9009): \u8bf7\u6c42\u4f53\u6570\u636e"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (PostOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"const newUser = await post('/users', { name: 'John', email: 'john@example.com' }).json();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"puturl-data-options",children:(0,l.jsx)(n.code,{children:"put(url, data?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u53d1\u8d77 PUT \u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"data"})," (any, \u53ef\u9009): \u8bf7\u6c42\u4f53\u6570\u636e"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (PutOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"patchurl-data-options",children:(0,l.jsx)(n.code,{children:"patch(url, data?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u53d1\u8d77 PATCH \u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"data"})," (any, \u53ef\u9009): \u8bf7\u6c42\u4f53\u6570\u636e"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (PatchOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"delurl-options",children:(0,l.jsx)(n.code,{children:"del(url, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u53d1\u8d77 DELETE \u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (DeleteOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"headurl-params-options",children:(0,l.jsx)(n.code,{children:"head(url, params?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u53d1\u8d77 HEAD \u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"params"})," (object, \u53ef\u9009): \u67e5\u8be2\u53c2\u6570"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (HeadOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"optionsurl-params-options",children:(0,l.jsx)(n.code,{children:"options(url, params?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u53d1\u8d77 OPTIONS \u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"params"})," (object, \u53ef\u9009): \u67e5\u8be2\u53c2\u6570"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (OptionsOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"uploadurl-data-options",children:(0,l.jsx)(n.code,{children:"upload(url, data?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u53d1\u8d77\u6587\u4ef6\u4e0a\u4f20\u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"url"})," (string): \u8bf7\u6c42\u7684 URL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"data"})," (object, \u53ef\u9009): \u5305\u542b\u6587\u4ef6\u7684\u6570\u636e\u5bf9\u8c61"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"options"})," (PostOptions, \u53ef\u9009): \u8bf7\u6c42\u914d\u7f6e"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"const result = await upload('/upload', {\n  file: fileInput.files[0],\n  name: 'My File'\n}).json();\n"})}),"\n",(0,l.jsx)(n.h2,{id:"hookfetch-\u5b9e\u4f8b\u65b9\u6cd5",children:"HookFetch \u5b9e\u4f8b\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.h3,{id:"requesturl-options",children:(0,l.jsx)(n.code,{children:"request(url, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684\u4e3b\u8981\u8bf7\u6c42\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"geturl-params-options-1",children:(0,l.jsx)(n.code,{children:"get(url, params?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684 GET \u8bf7\u6c42\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"posturl-data-options-1",children:(0,l.jsx)(n.code,{children:"post(url, data?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684 POST \u8bf7\u6c42\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"puturl-data-options-1",children:(0,l.jsx)(n.code,{children:"put(url, data?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684 PUT \u8bf7\u6c42\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"patchurl-data-options-1",children:(0,l.jsx)(n.code,{children:"patch(url, data?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684 PATCH \u8bf7\u6c42\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"deleteurl-options",children:(0,l.jsx)(n.code,{children:"delete(url, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684 DELETE \u8bf7\u6c42\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"headurl-params-options-1",children:(0,l.jsx)(n.code,{children:"head(url, params?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684 HEAD \u8bf7\u6c42\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"optionsurl-params-options-1",children:(0,l.jsx)(n.code,{children:"options(url, params?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684 OPTIONS \u8bf7\u6c42\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"uploadurl-data-options-1",children:(0,l.jsx)(n.code,{children:"upload(url, data?, options?)"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u7684\u6587\u4ef6\u4e0a\u4f20\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"useplugin",children:(0,l.jsx)(n.code,{children:"use(plugin)"})}),"\n",(0,l.jsx)(n.p,{children:"\u6ce8\u518c\u63d2\u4ef6\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"plugin"})," (HookFetchPlugin): \u63d2\u4ef6\u5bf9\u8c61"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"this"})," - \u5b9e\u4f8b\u672c\u8eab\uff08\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff09"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"api.use(myPlugin());\n"})}),"\n",(0,l.jsx)(n.h3,{id:"abortall",children:(0,l.jsx)(n.code,{children:"abortAll()"})}),"\n",(0,l.jsx)(n.p,{children:"\u4e2d\u65ad\u6240\u6709\u6b63\u5728\u8fdb\u884c\u7684\u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"api.abortAll();\n"})}),"\n",(0,l.jsx)(n.h2,{id:"hookfetchrequest-\u65b9\u6cd5",children:"HookFetchRequest \u65b9\u6cd5"}),"\n",(0,l.jsx)(n.h3,{id:"\u54cd\u5e94\u5904\u7406\u65b9\u6cd5",children:"\u54cd\u5e94\u5904\u7406\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.h4,{id:"json",children:(0,l.jsx)(n.code,{children:"json()"})}),"\n",(0,l.jsx)(n.p,{children:"\u5c06\u54cd\u5e94\u89e3\u6790\u4e3a JSON\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"Promise<T>"})," - \u89e3\u6790\u540e\u7684 JSON \u6570\u636e"]}),"\n",(0,l.jsx)(n.h4,{id:"text",children:(0,l.jsx)(n.code,{children:"text()"})}),"\n",(0,l.jsx)(n.p,{children:"\u5c06\u54cd\u5e94\u89e3\u6790\u4e3a\u6587\u672c\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"Promise<string>"})," - \u54cd\u5e94\u6587\u672c"]}),"\n",(0,l.jsx)(n.h4,{id:"blob",children:(0,l.jsx)(n.code,{children:"blob()"})}),"\n",(0,l.jsx)(n.p,{children:"\u5c06\u54cd\u5e94\u89e3\u6790\u4e3a Blob\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"Promise<Blob>"})," - \u54cd\u5e94 Blob"]}),"\n",(0,l.jsx)(n.h4,{id:"arraybuffer",children:(0,l.jsx)(n.code,{children:"arrayBuffer()"})}),"\n",(0,l.jsx)(n.p,{children:"\u5c06\u54cd\u5e94\u89e3\u6790\u4e3a ArrayBuffer\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"Promise<ArrayBuffer>"})," - \u54cd\u5e94 ArrayBuffer"]}),"\n",(0,l.jsx)(n.h4,{id:"formdata",children:(0,l.jsx)(n.code,{children:"formData()"})}),"\n",(0,l.jsx)(n.p,{children:"\u5c06\u54cd\u5e94\u89e3\u6790\u4e3a FormData\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"Promise<FormData>"})," - \u54cd\u5e94 FormData"]}),"\n",(0,l.jsx)(n.h4,{id:"bytes",children:(0,l.jsx)(n.code,{children:"bytes()"})}),"\n",(0,l.jsx)(n.p,{children:"\u5c06\u54cd\u5e94\u89e3\u6790\u4e3a\u5b57\u8282\u6570\u7ec4\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"Promise<Uint8Array>"})," - \u54cd\u5e94\u5b57\u8282\u6570\u7ec4"]}),"\n",(0,l.jsx)(n.h3,{id:"\u6d41\u5f0f\u5904\u7406\u65b9\u6cd5",children:"\u6d41\u5f0f\u5904\u7406\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.h4,{id:"stream",children:(0,l.jsx)(n.code,{children:"stream()"})}),"\n",(0,l.jsx)(n.p,{children:"\u83b7\u53d6\u54cd\u5e94\u7684\u6d41\u5f0f\u6570\u636e\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"AsyncIterable<StreamContext<T>>"})," - \u6d41\u5f0f\u6570\u636e\u8fed\u4ee3\u5668"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"for await (const chunk of request.stream()) {\n  console.log(chunk.result);\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u63a7\u5236\u65b9\u6cd5",children:"\u63a7\u5236\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.h4,{id:"abort",children:(0,l.jsx)(n.code,{children:"abort()"})}),"\n",(0,l.jsx)(n.p,{children:"\u4e2d\u65ad\u5f53\u524d\u8bf7\u6c42\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"const request = api.get('/long-request');\nsetTimeout(() => request.abort(), 5000);\n"})}),"\n",(0,l.jsx)(n.h4,{id:"retry",children:(0,l.jsx)(n.code,{children:"retry()"})}),"\n",(0,l.jsx)(n.p,{children:"\u91cd\u8bd5\u8bf7\u6c42\u3002"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"HookFetchRequest<T>"})," - \u65b0\u7684\u8bf7\u6c42\u5bf9\u8c61"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"const newRequest = request.retry();\nconst response = await newRequest.json();\n"})}),"\n",(0,l.jsx)(n.h4,{id:"catchcallback",children:(0,l.jsx)(n.code,{children:"catch(callback)"})}),"\n",(0,l.jsx)(n.p,{children:"\u6355\u83b7\u8bf7\u6c42\u9519\u8bef\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"callback"})," (function): \u9519\u8bef\u5904\u7406\u56de\u8c03"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"HookFetchRequest<T>"})," - \u8bf7\u6c42\u5bf9\u8c61"]}),"\n",(0,l.jsx)(n.h4,{id:"finallycallback",children:(0,l.jsx)(n.code,{children:"finally(callback)"})}),"\n",(0,l.jsx)(n.p,{children:"\u8bf7\u6c42\u5b8c\u6210\u540e\u6267\u884c\uff08\u65e0\u8bba\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff09\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"callback"})," (function): \u5b8c\u6210\u56de\u8c03"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8fd4\u56de\u503c\uff1a"})," ",(0,l.jsx)(n.code,{children:"HookFetchRequest<T>"})," - \u8bf7\u6c42\u5bf9\u8c61"]}),"\n",(0,l.jsx)(n.h2,{id:"\u914d\u7f6e\u9009\u9879",children:"\u914d\u7f6e\u9009\u9879"}),"\n",(0,l.jsx)(n.h3,{id:"baseoptions",children:"BaseOptions"}),"\n",(0,l.jsx)(n.p,{children:"\u521b\u5efa\u5b9e\u4f8b\u65f6\u7684\u914d\u7f6e\u9009\u9879\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"interface BaseOptions {\n  baseURL?: string;           // \u57fa\u7840 URL\n  timeout?: number;           // \u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n  headers?: HeadersInit;      // \u9ed8\u8ba4\u8bf7\u6c42\u5934\n  plugins?: HookFetchPlugin[]; // \u63d2\u4ef6\u6570\u7ec4\n  withCredentials?: boolean;  // \u662f\u5426\u53d1\u9001\u51ed\u8bc1\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"requestoptions",children:"RequestOptions"}),"\n",(0,l.jsx)(n.p,{children:"\u5355\u4e2a\u8bf7\u6c42\u7684\u914d\u7f6e\u9009\u9879\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"interface RequestOptions<P = any, D = any, E = any> {\n  method?: RequestMethod;     // HTTP \u65b9\u6cd5\n  headers?: HeadersInit;      // \u8bf7\u6c42\u5934\n  timeout?: number;           // \u8d85\u65f6\u65f6\u95f4\n  params?: P;                 // \u67e5\u8be2\u53c2\u6570\n  data?: D;                   // \u8bf7\u6c42\u4f53\u6570\u636e\n  withCredentials?: boolean;  // \u662f\u5426\u53d1\u9001\u51ed\u8bc1\n  extra?: E;                  // \u989d\u5916\u6570\u636e\n  qsArrayFormat?: 'indices' | 'brackets' | 'repeat' | 'comma'; // \u6570\u7ec4\u5e8f\u5217\u5316\u683c\u5f0f\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u7c7b\u578b\u5b9a\u4e49",children:"\u7c7b\u578b\u5b9a\u4e49"}),"\n",(0,l.jsx)(n.h3,{id:"requestmethod",children:"RequestMethod"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"type RequestMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE' | 'HEAD' | 'OPTIONS';\n"})}),"\n",(0,l.jsx)(n.h3,{id:"fetchresponsetype",children:"FetchResponseType"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"type FetchResponseType = 'json' | 'text' | 'blob' | 'arrayBuffer' | 'formData' | 'bytes';\n"})}),"\n",(0,l.jsx)(n.h3,{id:"streamcontext",children:"StreamContext"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"interface StreamContext<T = unknown> {\n  result: T;                  // \u5f53\u524d\u6570\u636e\u5757\n  source: Uint8Array;         // \u539f\u59cb\u5b57\u8282\u6570\u636e\n  error: unknown | null;      // \u9519\u8bef\u4fe1\u606f\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"hookfetchplugin",children:"HookFetchPlugin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"interface HookFetchPlugin<T = unknown, E = unknown, P = unknown, D = unknown> {\n  name: string;                                    // \u63d2\u4ef6\u540d\u79f0\n  priority?: number;                               // \u4f18\u5148\u7ea7\n  beforeRequest?: (config: RequestConfig<P, D, E>) => RequestConfig<P, D, E> | Promise<RequestConfig<P, D, E>>;\n  afterResponse?: (context: FetchPluginContext<T>, config: RequestConfig<P, D, E>) => FetchPluginContext<T> | Promise<FetchPluginContext<T>>;\n  beforeStream?: (body: ReadableStream<any>, config: RequestConfig<P, D, E>) => ReadableStream<any> | Promise<ReadableStream<any>>;\n  transformStreamChunk?: (chunk: StreamContext<any>, config: RequestConfig<P, D, E>) => StreamContext | Promise<StreamContext>;\n  onError?: (error: ResponseError, config: RequestConfig<P, D, E>) => Promise<Error | void | ResponseError<E>>;\n  onFinally?: (res: Pick<FetchPluginContext<unknown, E, P, D>, 'config' | 'response'>) => void | Promise<void>;\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,l.jsx)(n.h3,{id:"responseerror",children:"ResponseError"}),"\n",(0,l.jsxs)(n.p,{children:["Hook-Fetch \u4f1a\u629b\u51fa ",(0,l.jsx)(n.code,{children:"ResponseError"})," \u7c7b\u578b\u7684\u9519\u8bef\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"class ResponseError<E = any> extends Error {\n  response: Response;         // \u54cd\u5e94\u5bf9\u8c61\n  config: RequestConfig;      // \u8bf7\u6c42\u914d\u7f6e\n  extra?: E;                  // \u989d\u5916\u6570\u636e\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u9519\u8bef\u7c7b\u578b",children:"\u9519\u8bef\u7c7b\u578b"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7f51\u7edc\u9519\u8bef"}),": \u7f51\u7edc\u8fde\u63a5\u5931\u8d25"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8d85\u65f6\u9519\u8bef"}),": \u8bf7\u6c42\u8d85\u65f6"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u4e2d\u65ad\u9519\u8bef"}),": \u8bf7\u6c42\u88ab\u4e2d\u65ad"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"HTTP \u9519\u8bef"}),": HTTP \u72b6\u6001\u7801\u9519\u8bef\uff084xx, 5xx\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u89e3\u6790\u9519\u8bef"}),": \u54cd\u5e94\u6570\u636e\u89e3\u6790\u5931\u8d25"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,l.jsx)(n.h3,{id:"\u5b8c\u6574\u7684-api-\u4f7f\u7528\u793a\u4f8b",children:"\u5b8c\u6574\u7684 API \u4f7f\u7528\u793a\u4f8b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"import hookFetch from 'hook-fetch';\n\n// \u521b\u5efa\u5b9e\u4f8b\nconst api = hookFetch.create({\n  baseURL: 'https://api.example.com',\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer token'\n  }\n});\n\n// \u4f7f\u7528\u5404\u79cd\u65b9\u6cd5\nconst users = await api.get('/users', { page: 1 }).json();\nconst newUser = await api.post('/users', { name: 'John' }).json();\nconst updatedUser = await api.put('/users/1', { name: 'Jane' }).json();\nconst patchedUser = await api.patch('/users/1', { email: 'jane@example.com' }).json();\nconst deleted = await api.delete('/users/1').json();\n\n// \u6d41\u5f0f\u5904\u7406\nfor await (const chunk of api.get('/stream').stream()) {\n  console.log(chunk.result);\n}\n\n// \u9519\u8bef\u5904\u7406\ntry {\n  const response = await api.get('/error').json();\n} catch (error) {\n  console.error('Request failed:', error.message);\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var r=s(6540);const l={},o=r.createContext(l);function i(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);